HERE=$(dirname $(readlink -f $0))

# First of all, initialize
. ~/sh/function/f
. ~/sh/function/keybind
. ~/sh/function/percol
. ~/sh/function/pip

for i in ~/sh/languages/*; do . $i; done

# Change loading scripts depending on each environment
if uname -a | grep -q Darwin; then
    . ~/sh/mac/alias
   if [ -n "$ZSH_NAME" ]; then
       . ~/sh/mac/zsh
   fi
elif uname -a | grep -q Ubuntu; then
    . ~/sh/ubuntu/alias
   if [ -n "$ZSH_NAME" ]; then
       #. ~/sh/ubuntu/zsh
   fi
fi   

if [ -n "$ZSH_NAME" ]; then
    for i in ~/sh/zsh/*; do . $i; done
fi

for i in ~/sh/common/*; do . $i; done

# should be last
for i in ~/sh/zsh/*; do . $i; done

# stty stop undef

# ssh
# you should do "ssh-add -l" to check if the command works
eval `ssh-agent` 2> /dev/null 1> /dev/null
for key in ~/.ssh/*.pem; do
    ssh-add $key 2> /dev/null 1> /dev/null;
done
# WARNING
# you must not eval `ssh-agent` again because it resets the old ssh keys